{"ast":null,"code":"import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport cartService from './cartService';\nconst initialState = {\n  cart_items: [],\n  item: {}\n};\nexport const getCartItems = createAsyncThunk('cart/getCartItems', async () => {\n  return await cartService.getCartItems();\n});\nexport const removeItemFromCart = createAsyncThunk('cart/removeItemFromCart', async id => {\n  return await cartService.removeItemFromCart(id);\n});\nexport const addToCart = createAsyncThunk('cart/addToCart', async item => {\n  return await cartService.addToCart(item);\n});\nexport const cartSlice = createSlice({\n  name: 'cart',\n  initialState,\n  reducers: {\n    resetCart: () => initialState\n  },\n  extraReducers: builder => {\n    builder.addCase(getCartItems.pending, state => {\n      state.isLoading = true;\n    }).addCase(getCartItems.fulfilled, (state, action) => {\n      state.isLoading = false;\n      state.cart_items = action.payload;\n    }).addCase(getCartItems.rejected, (state, action) => {\n      state.isLoading = true;\n      state.error = true;\n      state.message = action.payload;\n    }).addCase(removeItemFromCart.pending, state => {\n      state.isLoading = true;\n    }).addCase(removeItemFromCart.fulfilled, (state, action) => {\n      state.isLoading = false;\n      let new_items = state.cart_items.filter(c => c._id != action.payload);\n      state.cart_items = new_items;\n    }).addCase(removeItemFromCart.rejected, (state, action) => {\n      state.isLoading = true;\n      state.error = true;\n      state.message = action.payload;\n    }).addCase(addToCart.pending, state => {\n      state.isLoading = true;\n    }).addCase(addToCart.fulfilled, state => {\n      state.isLoading = false;\n    }).addCase(addToCart.rejected, (state, action) => {\n      state.isLoading = true;\n      state.error = true;\n      state.message = action.payload;\n    });\n  }\n});\nexport const {\n  resetCart\n} = cartSlice.actions;\nexport default cartSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","cartService","initialState","cart_items","item","getCartItems","removeItemFromCart","id","addToCart","cartSlice","name","reducers","resetCart","extraReducers","builder","addCase","pending","state","isLoading","fulfilled","action","payload","rejected","error","message","new_items","filter","c","_id","actions","reducer"],"sources":["/home/yoxa/Desktop/React_template/my_first_app_new/frontend/src/reducers/cartReducer.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit'\nimport cartService from './cartService'\n\nconst initialState = {\n  cart_items: [],\n  item: {},\n};\n\n export const getCartItems = createAsyncThunk(\n  'cart/getCartItems',\n  async () => {\n      return await cartService.getCartItems()\n  }\n)\n\n\n export const removeItemFromCart = createAsyncThunk(\n  'cart/removeItemFromCart',\n  async (id) => {\n      return await cartService.removeItemFromCart(id)\n  }\n)\n\n  export const addToCart = createAsyncThunk(\n  'cart/addToCart',\n  async (item) => {\n      return await cartService.addToCart(item)\n  }\n)\n\n\nexport const cartSlice = createSlice({\n  name: 'cart',\n  initialState,\n  reducers: {\n    resetCart: () => initialState,  \n  },\n  extraReducers: (builder) => {\n    builder\n      .addCase(getCartItems.pending, (state) => {\n        state.isLoading = true\n      })\n      .addCase(getCartItems.fulfilled, (state, action) => {\n        state.isLoading = false\n        state.cart_items = action.payload\n      })\n      .addCase(getCartItems.rejected, (state, action) => {\n        state.isLoading = true\n        state.error = true\n        state.message = action.payload\n      })\n      .addCase(removeItemFromCart.pending, (state) => {\n        state.isLoading = true\n      })\n      .addCase(removeItemFromCart.fulfilled, (state, action) => {\n        state.isLoading = false\n        let new_items = state.cart_items.filter((c) => c._id != action.payload)\n        state.cart_items = new_items \n      })\n      .addCase(removeItemFromCart.rejected, (state, action) => {\n        state.isLoading = true\n        state.error = true\n        state.message = action.payload\n      })\n      .addCase(addToCart.pending, (state) => {\n        state.isLoading = true\n      })\n      .addCase(addToCart.fulfilled, (state) => {\n        state.isLoading = false\n      })\n      .addCase(addToCart.rejected, (state, action) => {\n        state.isLoading = true\n        state.error = true\n        state.message = action.payload\n      })\n  }\n})\n\nexport const { resetCart  } = cartSlice.actions\nexport default cartSlice.reducer"],"mappings":"AAAA,SAASA,WAAT,EAAsBC,gBAAtB,QAA8C,kBAA9C;AACA,OAAOC,WAAP,MAAwB,eAAxB;AAEA,MAAMC,YAAY,GAAG;EACnBC,UAAU,EAAE,EADO;EAEnBC,IAAI,EAAE;AAFa,CAArB;AAKC,OAAO,MAAMC,YAAY,GAAGL,gBAAgB,CAC3C,mBAD2C,EAE3C,YAAY;EACR,OAAO,MAAMC,WAAW,CAACI,YAAZ,EAAb;AACH,CAJ0C,CAArC;AAQP,OAAO,MAAMC,kBAAkB,GAAGN,gBAAgB,CACjD,yBADiD,EAEjD,MAAOO,EAAP,IAAc;EACV,OAAO,MAAMN,WAAW,CAACK,kBAAZ,CAA+BC,EAA/B,CAAb;AACH,CAJgD,CAA3C;AAON,OAAO,MAAMC,SAAS,GAAGR,gBAAgB,CACzC,gBADyC,EAEzC,MAAOI,IAAP,IAAgB;EACZ,OAAO,MAAMH,WAAW,CAACO,SAAZ,CAAsBJ,IAAtB,CAAb;AACH,CAJwC,CAAlC;AAQT,OAAO,MAAMK,SAAS,GAAGV,WAAW,CAAC;EACnCW,IAAI,EAAE,MAD6B;EAEnCR,YAFmC;EAGnCS,QAAQ,EAAE;IACRC,SAAS,EAAE,MAAMV;EADT,CAHyB;EAMnCW,aAAa,EAAGC,OAAD,IAAa;IAC1BA,OAAO,CACJC,OADH,CACWV,YAAY,CAACW,OADxB,EACkCC,KAAD,IAAW;MACxCA,KAAK,CAACC,SAAN,GAAkB,IAAlB;IACD,CAHH,EAIGH,OAJH,CAIWV,YAAY,CAACc,SAJxB,EAImC,CAACF,KAAD,EAAQG,MAAR,KAAmB;MAClDH,KAAK,CAACC,SAAN,GAAkB,KAAlB;MACAD,KAAK,CAACd,UAAN,GAAmBiB,MAAM,CAACC,OAA1B;IACD,CAPH,EAQGN,OARH,CAQWV,YAAY,CAACiB,QARxB,EAQkC,CAACL,KAAD,EAAQG,MAAR,KAAmB;MACjDH,KAAK,CAACC,SAAN,GAAkB,IAAlB;MACAD,KAAK,CAACM,KAAN,GAAc,IAAd;MACAN,KAAK,CAACO,OAAN,GAAgBJ,MAAM,CAACC,OAAvB;IACD,CAZH,EAaGN,OAbH,CAaWT,kBAAkB,CAACU,OAb9B,EAawCC,KAAD,IAAW;MAC9CA,KAAK,CAACC,SAAN,GAAkB,IAAlB;IACD,CAfH,EAgBGH,OAhBH,CAgBWT,kBAAkB,CAACa,SAhB9B,EAgByC,CAACF,KAAD,EAAQG,MAAR,KAAmB;MACxDH,KAAK,CAACC,SAAN,GAAkB,KAAlB;MACA,IAAIO,SAAS,GAAGR,KAAK,CAACd,UAAN,CAAiBuB,MAAjB,CAAyBC,CAAD,IAAOA,CAAC,CAACC,GAAF,IAASR,MAAM,CAACC,OAA/C,CAAhB;MACAJ,KAAK,CAACd,UAAN,GAAmBsB,SAAnB;IACD,CApBH,EAqBGV,OArBH,CAqBWT,kBAAkB,CAACgB,QArB9B,EAqBwC,CAACL,KAAD,EAAQG,MAAR,KAAmB;MACvDH,KAAK,CAACC,SAAN,GAAkB,IAAlB;MACAD,KAAK,CAACM,KAAN,GAAc,IAAd;MACAN,KAAK,CAACO,OAAN,GAAgBJ,MAAM,CAACC,OAAvB;IACD,CAzBH,EA0BGN,OA1BH,CA0BWP,SAAS,CAACQ,OA1BrB,EA0B+BC,KAAD,IAAW;MACrCA,KAAK,CAACC,SAAN,GAAkB,IAAlB;IACD,CA5BH,EA6BGH,OA7BH,CA6BWP,SAAS,CAACW,SA7BrB,EA6BiCF,KAAD,IAAW;MACvCA,KAAK,CAACC,SAAN,GAAkB,KAAlB;IACD,CA/BH,EAgCGH,OAhCH,CAgCWP,SAAS,CAACc,QAhCrB,EAgC+B,CAACL,KAAD,EAAQG,MAAR,KAAmB;MAC9CH,KAAK,CAACC,SAAN,GAAkB,IAAlB;MACAD,KAAK,CAACM,KAAN,GAAc,IAAd;MACAN,KAAK,CAACO,OAAN,GAAgBJ,MAAM,CAACC,OAAvB;IACD,CApCH;EAqCD;AA5CkC,CAAD,CAA7B;AA+CP,OAAO,MAAM;EAAET;AAAF,IAAiBH,SAAS,CAACoB,OAAjC;AACP,eAAepB,SAAS,CAACqB,OAAzB"},"metadata":{},"sourceType":"module"}