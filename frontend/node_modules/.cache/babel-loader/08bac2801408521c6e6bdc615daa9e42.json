{"ast":null,"code":"import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport cartService from './cartService';\nconst initialState = {\n  cart_items: [],\n  item: {},\n  isLoading: false\n};\nexport const getCartItems = createAsyncThunk('cart/getCartItems', async () => {\n  return await cartService.getCartItems();\n});\nexport const removeItemFromCart = createAsyncThunk('cart/removeItemFromCart', async id => {\n  return await cartService.removeItemFromCart(id);\n});\nexport const addToCart = createAsyncThunk('cart/addToCart', async item => {\n  return await cartService.addToCart(item);\n});\nexport const cartSlice = createSlice({\n  name: 'cart',\n  initialState,\n  reducers: {\n    resetCart: () => initialState\n  },\n  extraReducers: builder => {\n    builder.addCase(getCartItems.pending, state => {\n      state.isLoading = true;\n    }).addCase(getCartItems.fulfilled, (state, action) => {\n      state.isLoading = false;\n      state.cart_items = action.payload;\n    }).addCase(getCartItems.rejected, (state, action) => {\n      state.isLoading = true;\n      state.error = true;\n      state.message = action.payload;\n    }).addCase(removeItemFromCart.pending, state => {\n      state.isLoading = true;\n    }).addCase(removeItemFromCart.fulfilled, (state, action) => {\n      state.isLoading = false;\n      let new_items = state.cart_items.filter(c => c._id != action.payload);\n      state.cart_items = new_items;\n    }).addCase(removeItemFromCart.rejected, (state, action) => {\n      state.isLoading = true;\n      state.error = true;\n      state.message = action.payload;\n    }).addCase(addToCart.pending, state => {\n      state.isLoading = true;\n    }).addCase(addToCart.fulfilled, state => {\n      state.isLoading = false;\n    }).addCase(addToCart.rejected, (state, action) => {\n      state.isLoading = true;\n      state.error = true;\n      state.message = action.payload;\n    });\n  }\n});\nexport const {\n  resetCart\n} = cartSlice.actions;\nexport default cartSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","cartService","initialState","cart_items","item","isLoading","getCartItems","removeItemFromCart","id","addToCart","cartSlice","name","reducers","resetCart","extraReducers","builder","addCase","pending","state","fulfilled","action","payload","rejected","error","message","new_items","filter","c","_id","actions","reducer"],"sources":["/home/yoxa/Desktop/React_template/my_first_app_new/frontend/src/reducers/cartReducer.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit'\nimport cartService from './cartService'\n\nconst initialState = {\n  cart_items: [],\n  item: {},\n  isLoading: false,\n};\n\n export const getCartItems = createAsyncThunk(\n  'cart/getCartItems',\n  async () => {\n      return await cartService.getCartItems()\n  }\n)\n\n\n export const removeItemFromCart = createAsyncThunk(\n  'cart/removeItemFromCart',\n  async (id) => {\n      return await cartService.removeItemFromCart(id)\n  }\n)\n\n  export const addToCart = createAsyncThunk(\n  'cart/addToCart',\n  async (item) => {\n      return await cartService.addToCart(item)\n  }\n)\n\n\nexport const cartSlice = createSlice({\n  name: 'cart',\n  initialState,\n  reducers: {\n    resetCart: () => initialState,  \n  },\n  extraReducers: (builder) => {\n    builder\n      .addCase(getCartItems.pending, (state) => {\n        state.isLoading = true\n      })\n      .addCase(getCartItems.fulfilled, (state, action) => {\n        state.isLoading = false\n        state.cart_items = action.payload\n      })\n      .addCase(getCartItems.rejected, (state, action) => {\n        state.isLoading = true\n        state.error = true\n        state.message = action.payload\n      })\n      .addCase(removeItemFromCart.pending, (state) => {\n        state.isLoading = true\n      })\n      .addCase(removeItemFromCart.fulfilled, (state, action) => {\n        state.isLoading = false\n        let new_items = state.cart_items.filter((c) => c._id != action.payload)\n        state.cart_items = new_items \n      })\n      .addCase(removeItemFromCart.rejected, (state, action) => {\n        state.isLoading = true\n        state.error = true\n        state.message = action.payload\n      })\n      .addCase(addToCart.pending, (state) => {\n        state.isLoading = true\n      })\n      .addCase(addToCart.fulfilled, (state) => {\n        state.isLoading = false\n      })\n      .addCase(addToCart.rejected, (state, action) => {\n        state.isLoading = true\n        state.error = true\n        state.message = action.payload\n      })\n  }\n})\n\nexport const { resetCart  } = cartSlice.actions\nexport default cartSlice.reducer"],"mappings":"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"},"metadata":{},"sourceType":"module"}