{"ast":null,"code":"import { INCREMENT_CART, DELETE_FROM_CART, FETCH_PRODUCTS, FETCH_PRODUCTS_BY_CAT } from '../actions/types';\nimport { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport productService from './productService';\nconst initialState = {\n  product_items: [],\n  product_items_by_cat: [],\n  categories: [],\n  item: {},\n  loading: false,\n  error: false\n};\nexport const getAllProducts = createAsyncThunk('product/getAllProducts', async () => {\n  return await productService.getProducts();\n});\nexport const getAllCategories = createAsyncThunk('product/getAllCategories', async () => {\n  return await productService.getCategories();\n});\nexport const productSlice = createSlice({\n  name: 'product',\n  initialState,\n  reducers: {\n    resetProduct: () => initialState,\n    getProductsByCat: state => {\n      state.loading = false;\n      state.product_items_by_cat = state.product_items.filter(p => p.categorie._id == action.payload._id);\n      return state;\n    }\n  },\n  extraReducers: builder => {\n    builder.addCase(getAllProducts.pending, state => {\n      state.loading = true;\n    }).addCase(getAllProducts.fulfilled, (state, action) => {\n      state.loading = false;\n      state.product_items = action.payload;\n    }).addCase(getAllProducts.rejected, (state, action) => {\n      state.loading = false;\n      state.error = true;\n      state.message = action.payload;\n    }).addCase(getAllCategories.pending, state => {\n      state.isLoading = true;\n    }).addCase(getAllCategories.fulfilled, (state, action) => {\n      state.loading = false;\n      state.categories = action.payload;\n    }).addCase(getAllCategories.rejected, (state, action) => {\n      state.loading = false;\n      state.error = true;\n      state.message = action.payload;\n    });\n  }\n});\nexport const {\n  resetProduct,\n  getProductsByCat\n} = productSlice.actions;\nexport default productSlice.reducer;","map":{"version":3,"names":["INCREMENT_CART","DELETE_FROM_CART","FETCH_PRODUCTS","FETCH_PRODUCTS_BY_CAT","createSlice","createAsyncThunk","productService","initialState","product_items","product_items_by_cat","categories","item","loading","error","getAllProducts","getProducts","getAllCategories","getCategories","productSlice","name","reducers","resetProduct","getProductsByCat","state","filter","p","categorie","_id","action","payload","extraReducers","builder","addCase","pending","fulfilled","rejected","message","isLoading","actions","reducer"],"sources":["/home/yoxa/Desktop/React_template/my_first_app_new/frontend/src/reducers/productReducer.js"],"sourcesContent":["import { INCREMENT_CART, DELETE_FROM_CART, FETCH_PRODUCTS, FETCH_PRODUCTS_BY_CAT } from '../actions/types';\nimport { createSlice, createAsyncThunk } from '@reduxjs/toolkit'\nimport productService from './productService'\n\nconst initialState = {\n  product_items: [],\n  product_items_by_cat: [], \n  categories: [],\n  item: {},\n  loading: false,\n  error: false, \n};\n\n\nexport const getAllProducts = createAsyncThunk(\n  'product/getAllProducts',\n  async () => {\n      return await productService.getProducts()\n  }\n)\n\nexport const getAllCategories = createAsyncThunk(\n  'product/getAllCategories',\n  async () => {\n      return await productService.getCategories()\n  }\n)\n\nexport const productSlice = createSlice({\n  name: 'product',\n  initialState,\n  reducers: {\n    resetProduct: () => initialState,\n    getProductsByCat: (state) => {\n        state.loading = false\n        state.product_items_by_cat = state.product_items.filter(\n          (p) => p.categorie._id == action.payload._id\n        )\n        return state\n    } \n  },\n  extraReducers: (builder) => {\n    builder\n      .addCase(getAllProducts.pending, (state) => {\n        state.loading = true\n      })\n      .addCase(getAllProducts.fulfilled, (state, action) => {\n        state.loading = false\n        state.product_items = action.payload\n      })\n      .addCase(getAllProducts.rejected, (state, action) => {\n        state.loading = false\n        state.error = true\n        state.message = action.payload\n      })\n      .addCase(getAllCategories.pending, (state) => {\n        state.isLoading = true\n      })\n      .addCase(getAllCategories.fulfilled, (state, action) => {\n        state.loading = false\n        state.categories = action.payload\n      })\n      .addCase(getAllCategories.rejected, (state, action) => {\n        state.loading = false\n        state.error = true\n        state.message = action.payload\n      })\n  },\n})\n\nexport const { resetProduct, getProductsByCat  } = productSlice.actions\nexport default productSlice.reducer\n"],"mappings":"AAAA,SAASA,cAAT,EAAyBC,gBAAzB,EAA2CC,cAA3C,EAA2DC,qBAA3D,QAAwF,kBAAxF;AACA,SAASC,WAAT,EAAsBC,gBAAtB,QAA8C,kBAA9C;AACA,OAAOC,cAAP,MAA2B,kBAA3B;AAEA,MAAMC,YAAY,GAAG;EACnBC,aAAa,EAAE,EADI;EAEnBC,oBAAoB,EAAE,EAFH;EAGnBC,UAAU,EAAE,EAHO;EAInBC,IAAI,EAAE,EAJa;EAKnBC,OAAO,EAAE,KALU;EAMnBC,KAAK,EAAE;AANY,CAArB;AAUA,OAAO,MAAMC,cAAc,GAAGT,gBAAgB,CAC5C,wBAD4C,EAE5C,YAAY;EACR,OAAO,MAAMC,cAAc,CAACS,WAAf,EAAb;AACH,CAJ2C,CAAvC;AAOP,OAAO,MAAMC,gBAAgB,GAAGX,gBAAgB,CAC9C,0BAD8C,EAE9C,YAAY;EACR,OAAO,MAAMC,cAAc,CAACW,aAAf,EAAb;AACH,CAJ6C,CAAzC;AAOP,OAAO,MAAMC,YAAY,GAAGd,WAAW,CAAC;EACtCe,IAAI,EAAE,SADgC;EAEtCZ,YAFsC;EAGtCa,QAAQ,EAAE;IACRC,YAAY,EAAE,MAAMd,YADZ;IAERe,gBAAgB,EAAGC,KAAD,IAAW;MACzBA,KAAK,CAACX,OAAN,GAAgB,KAAhB;MACAW,KAAK,CAACd,oBAAN,GAA6Bc,KAAK,CAACf,aAAN,CAAoBgB,MAApB,CAC1BC,CAAD,IAAOA,CAAC,CAACC,SAAF,CAAYC,GAAZ,IAAmBC,MAAM,CAACC,OAAP,CAAeF,GADd,CAA7B;MAGA,OAAOJ,KAAP;IACH;EARO,CAH4B;EAatCO,aAAa,EAAGC,OAAD,IAAa;IAC1BA,OAAO,CACJC,OADH,CACWlB,cAAc,CAACmB,OAD1B,EACoCV,KAAD,IAAW;MAC1CA,KAAK,CAACX,OAAN,GAAgB,IAAhB;IACD,CAHH,EAIGoB,OAJH,CAIWlB,cAAc,CAACoB,SAJ1B,EAIqC,CAACX,KAAD,EAAQK,MAAR,KAAmB;MACpDL,KAAK,CAACX,OAAN,GAAgB,KAAhB;MACAW,KAAK,CAACf,aAAN,GAAsBoB,MAAM,CAACC,OAA7B;IACD,CAPH,EAQGG,OARH,CAQWlB,cAAc,CAACqB,QAR1B,EAQoC,CAACZ,KAAD,EAAQK,MAAR,KAAmB;MACnDL,KAAK,CAACX,OAAN,GAAgB,KAAhB;MACAW,KAAK,CAACV,KAAN,GAAc,IAAd;MACAU,KAAK,CAACa,OAAN,GAAgBR,MAAM,CAACC,OAAvB;IACD,CAZH,EAaGG,OAbH,CAaWhB,gBAAgB,CAACiB,OAb5B,EAasCV,KAAD,IAAW;MAC5CA,KAAK,CAACc,SAAN,GAAkB,IAAlB;IACD,CAfH,EAgBGL,OAhBH,CAgBWhB,gBAAgB,CAACkB,SAhB5B,EAgBuC,CAACX,KAAD,EAAQK,MAAR,KAAmB;MACtDL,KAAK,CAACX,OAAN,GAAgB,KAAhB;MACAW,KAAK,CAACb,UAAN,GAAmBkB,MAAM,CAACC,OAA1B;IACD,CAnBH,EAoBGG,OApBH,CAoBWhB,gBAAgB,CAACmB,QApB5B,EAoBsC,CAACZ,KAAD,EAAQK,MAAR,KAAmB;MACrDL,KAAK,CAACX,OAAN,GAAgB,KAAhB;MACAW,KAAK,CAACV,KAAN,GAAc,IAAd;MACAU,KAAK,CAACa,OAAN,GAAgBR,MAAM,CAACC,OAAvB;IACD,CAxBH;EAyBD;AAvCqC,CAAD,CAAhC;AA0CP,OAAO,MAAM;EAAER,YAAF;EAAgBC;AAAhB,IAAsCJ,YAAY,CAACoB,OAAzD;AACP,eAAepB,YAAY,CAACqB,OAA5B"},"metadata":{},"sourceType":"module"}